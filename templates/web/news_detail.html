{% extends "web/base.html" %}
{% load static %}

{% block title %}{{ news.title|default:"News Article" }} - Health 4 Human Pharma{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="relative h-64 md:h-96 bg-gradient-to-r from-blue-600 to-blue-800 overflow-hidden">
    <div class="absolute inset-0 bg-black/40"></div>
    <!-- Background Image (if available) -->
    {% if news.image %}
    <img src="{{ news.image.url }}" alt="{{ news.title }}" class="absolute inset-0 w-full h-full object-cover">
    <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-black/40 to-transparent"></div>
    {% endif %}
    
    <div class="absolute inset-0 flex items-end">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pb-12 w-full">
            <!-- Breadcrumb -->
            <nav class="mb-4">
                <ol class="flex items-center space-x-2 text-sm text-white/80">
                    <li><a href="{% url 'home' %}" class="hover:text-white transition-colors">Home</a></li>
                    <li><span>/</span></li>
                    <li><a href="{% url 'news' %}" class="hover:text-white transition-colors">News & Events</a></li>
                    <li><span>/</span></li>
                    <li class="text-white font-medium truncate max-w-xs">{{ news.title|default:"Article" }}</li>
                </ol>
            </nav>
            
            <!-- Category Badge -->
            {% if news.category %}
            <span class="inline-block px-4 py-1 bg-blue-500 text-white text-sm font-medium rounded-full mb-4">
                {{ news.category }}
            </span>
            {% endif %}
            
            <!-- Title -->
            <h1 class="text-3xl md:text-4xl lg:text-5xl font-bold text-white leading-tight">
                {{ news.title|default:"News Article Title" }}
            </h1>
        </div>
    </div>
</section>

<!-- Article Content Section -->
<section class="py-12 bg-white">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        <!-- Article Meta -->
        <div class="flex flex-wrap items-center gap-4 mb-8 pb-8 border-b border-gray-200">
            <!-- Author -->
            <div class="flex items-center gap-3">
                <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center">
                    {% if news.author_image %}
                    <img src="{{ news.author_image.url }}" alt="{{ news.author }}" class="w-full h-full rounded-full object-cover">
                    {% else %}
                    <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                    </svg>
                    {% endif %}
                </div>
                <div>
                    <p class="font-medium text-gray-900">{{ news.author|default:"Health 4 Human Pharma Team" }}</p>
                    <p class="text-sm text-gray-500">Author</p>
                </div>
            </div>
            
            <!-- Date -->
            <div class="flex items-center gap-2 text-gray-600">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                </svg>
                <span>{{ news.published_date|date:"F d, Y"|default:"January 15, 2026" }}</span>
            </div>
            
            <!-- Reading Time -->
            <div class="flex items-center gap-2 text-gray-600">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
                <span>{{ news.reading_time|default:"5" }} min read</span>
            </div>
            
            <!-- Share Buttons -->
            <div class="ml-auto flex items-center gap-2">
                <span class="text-sm text-gray-500 mr-2">Share:</span>
                <a href="https://www.facebook.com/sharer/sharer.php?u={{ request.build_absolute_uri }}" target="_blank" class="w-9 h-9 bg-gray-100 hover:bg-blue-600 hover:text-white rounded-full flex items-center justify-center transition-colors duration-200">
                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>
                </a>
                <a href="https://twitter.com/intent/tweet?url={{ request.build_absolute_uri }}&text={{ news.title }}" target="_blank" class="w-9 h-9 bg-gray-100 hover:bg-blue-400 hover:text-white rounded-full flex items-center justify-center transition-colors duration-200">
                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/></svg>
                </a>
                <a href="https://www.linkedin.com/shareArticle?mini=true&url={{ request.build_absolute_uri }}&title={{ news.title }}" target="_blank" class="w-9 h-9 bg-gray-100 hover:bg-blue-700 hover:text-white rounded-full flex items-center justify-center transition-colors duration-200">
                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
                </a>
                <button onclick="navigator.clipboard.writeText(window.location.href); alert('Link copied!');" class="w-9 h-9 bg-gray-100 hover:bg-gray-600 hover:text-white rounded-full flex items-center justify-center transition-colors duration-200">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                    </svg>
                </button>
            </div>
        </div>
        
        <!-- Featured Image -->
        {% if news.image %}
        <div class="mb-10 rounded-2xl overflow-hidden shadow-lg">
            <img src="{{ news.image.url }}" alt="{{ news.title }}" class="w-full h-auto">
            {% if news.image_caption %}
            <p class="bg-gray-50 px-4 py-3 text-sm text-gray-600 italic">{{ news.image_caption }}</p>
            {% endif %}
        </div>
        {% endif %}
        
        <!-- Article Content -->
        <article class="prose prose-lg max-w-none">
            {{ news.content|safe|default:"<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p><p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p><h2>Key Highlights</h2><ul><li>Important point number one with detailed explanation</li><li>Second key highlight that readers should know</li><li>Third important aspect of this news story</li></ul><p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo.</p><blockquote>This is an important quote that highlights a key message from this news article. It emphasizes our commitment to health and wellness.</blockquote><p>Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt.</p>" }}
        </article>
        
        <!-- Tags -->
        {% if news.tags %}
        <div class="mt-10 pt-8 border-t border-gray-200">
            <div class="flex flex-wrap items-center gap-2">
                <span class="text-gray-600 font-medium">Tags:</span>
                {% for tag in news.tags.all %}
                <a href="#" class="px-4 py-2 bg-gray-100 hover:bg-blue-600 hover:text-white rounded-full text-sm transition-colors duration-200">
                    {{ tag.name }}
                </a>
                {% empty %}
                <a href="#" class="px-4 py-2 bg-gray-100 hover:bg-blue-600 hover:text-white rounded-full text-sm transition-colors duration-200">Health</a>
                <a href="#" class="px-4 py-2 bg-gray-100 hover:bg-blue-600 hover:text-white rounded-full text-sm transition-colors duration-200">Pharma</a>
                <a href="#" class="px-4 py-2 bg-gray-100 hover:bg-blue-600 hover:text-white rounded-full text-sm transition-colors duration-200">News</a>
                <a href="#" class="px-4 py-2 bg-gray-100 hover:bg-blue-600 hover:text-white rounded-full text-sm transition-colors duration-200">Events</a>
                {% endfor %}
            </div>
        </div>
        {% endif %}
        
        <!-- Author Bio -->
        <div class="mt-10 p-6 bg-gray-50 rounded-2xl">
            <div class="flex flex-col sm:flex-row items-start gap-4">
                <div class="w-16 h-16 bg-blue-100 rounded-full flex-shrink-0 flex items-center justify-center">
                    {% if news.author_image %}
                    <img src="{{ news.author_image.url }}" alt="{{ news.author }}" class="w-full h-full rounded-full object-cover">
                    {% else %}
                    <svg class="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                    </svg>
                    {% endif %}
                </div>
                <div>
                    <h3 class="font-bold text-gray-900 text-lg">{{ news.author|default:"Health 4 Human Pharma Team" }}</h3>
                    <p class="text-gray-600 mt-1">{{ news.author_bio|default:"Bringing you the latest news and updates from Health 4 Human Pharma. We are committed to improving lives through innovative healthcare solutions." }}</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Related Articles Section -->
 {% if related_news %}
<section class="py-16 bg-gray-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <h2 class="text-2xl md:text-3xl font-bold text-gray-900 mb-8">Related Articles</h2>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            {% for article in related_news %}
            <!-- Related Article Card -->
            <a href="{% url 'news-detail' article.slug %}" class="bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 group">
                <div class="relative h-48 bg-gray-200">
                    {% if article.image %}
                    <img src="{{ article.image.url }}" alt="{{ article.title }}" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300">
                    {% else %}
                    <div class="w-full h-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center">
                        <svg class="w-16 h-16 text-white/50" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"></path>
                        </svg>
                    </div>
                    {% endif %}
                    <div class="absolute bottom-4 right-4">
                        <span class="w-10 h-10 bg-white/80 backdrop-blur rounded-full flex items-center justify-center group-hover:bg-blue-600 group-hover:text-white transition-colors duration-300">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
                            </svg>
                        </span>
                    </div>
                </div>
                <div class="p-4">
                    <p class="text-sm text-gray-500 mb-2">{{ article.published_date|date:"F d, Y" }}</p>
                    <h3 class="text-gray-900 font-medium group-hover:text-blue-600 transition-colors duration-200">{{ article.title }}</h3>
                </div>
            </a>
            {% empty %}
 
            {% endfor %}
        </div>
        
        <!-- Back to News Button -->
        <div class="mt-12 text-center">
            <a href="{% url 'news' %}" class="inline-flex items-center px-8 py-3 border-2 border-gray-900 rounded-full text-gray-900 hover:bg-gray-900 hover:text-white transition-colors duration-300 font-medium">
                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16l-4-4m0 0l4-4m-4 4h18"></path>
                </svg>
                Back to All News
            </a>
        </div>
    </div>
</section>
 {% endif %}

<!-- Newsletter CTA Section -->
<section class="py-16 bg-blue-600">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <h2 class="text-2xl md:text-3xl font-bold text-white mb-4">Stay Updated</h2>
        <p class="text-blue-100 mb-8">Subscribe to our newsletter and never miss the latest news and updates from Health 4 Human Pharma.</p>
        <form class="flex flex-col sm:flex-row gap-4 justify-center max-w-lg mx-auto">
            <input type="email" placeholder="Enter your email address" class="flex-1 px-6 py-3 rounded-full text-gray-900 focus:outline-none focus:ring-2 focus:ring-white">
            <button type="submit" class="px-8 py-3 bg-white text-blue-600 font-semibold rounded-full hover:bg-blue-50 transition-colors duration-300">
                Subscribe
            </button>
        </form>
    </div>
</section>
{% endblock %}

{% block extra_css %}
<style>
    /* Article Content Styling */
    .prose h2 {
        @apply text-2xl font-bold text-gray-900 mt-8 mb-4;
    }
    .prose h3 {
        @apply text-xl font-bold text-gray-900 mt-6 mb-3;
    }
    .prose p {
        @apply text-gray-700 leading-relaxed mb-6;
    }
    .prose ul, .prose ol {
        @apply mb-6 pl-6;
    }
    .prose li {
        @apply text-gray-700 mb-2;
    }
    .prose ul li {
        @apply list-disc;
    }
    .prose ol li {
        @apply list-decimal;
    }
    .prose blockquote {
        @apply border-l-4 border-blue-600 pl-6 py-2 my-6 italic text-gray-600 bg-blue-50 pr-6 rounded-r-lg;
    }
    .prose a {
        @apply text-blue-600 hover:underline;
    }
    .prose img {
        @apply rounded-xl my-6;
    }
    .prose strong {
        @apply font-bold text-gray-900;
    }
</style>
{% endblock %}

{% block extra_js %}
<script>
    // GSAP Animations
    gsap.registerPlugin(ScrollTrigger);

    // Animate article content on load
    gsap.from('article', {
        y: 30,
        opacity: 0,
        duration: 0.8,
        ease: 'power2.out'
    });

    // Animate related articles on scroll
    gsap.utils.toArray('.grid > div, .grid > a').forEach((card, i) => {
        gsap.from(card, {
            scrollTrigger: {
                trigger: card,
                start: 'top 85%',
                toggleActions: 'play none none reverse'
            },
            y: 50,
            opacity: 0,
            duration: 0.6,
            delay: i * 0.1
        });
    });

    // Smooth scroll for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });
</script>
{% endblock %}
